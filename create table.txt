CREATE TABLE user(
   `user_id` INT UNSIGNED AUTO_INCREMENT,
   `email` VARCHAR(50) NOT NULL,
   `username` VARCHAR(30) NOT NULL,
   `password` VARCHAR(20) NOT NULL,
   `name` VARCHAR(15) NOT NULL,
   PRIMARY KEY ( user_id )
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE pinpal(
   `reg_num` INT NOT NULL,
   `vali_code` VARCHAR(30) NOT NULL,
   `latest_time` DATETIME DEFAULT NULL,
   `latest_loca` VARCHAR(50) NOT NULL,
   PRIMARY KEY ( reg_num )
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE authorization(
   `user_id` INT UNSIGNED AUTO_INCREMENT,
   `reg_num` INT NOT NULL,
   PRIMARY KEY ( user_id, reg_num ),
   foreign key (user_id) references user(user_id) on delete cascade on update cascade,
   foreign key (reg_num) references pinpal(reg_num) on delete cascade on update cascade
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

